http://www.plantuml.com/plantuml/uml

@startuml
class CustomerRepository{
+Save(Customer)
+Get(Customer)
}


interface ICustomerDataTableGateway{
+Insert(CustomerDto)
+Update(CustomerDto)
+Get()
}

class CustomerDataTableGateway{
+Insert(CustomerDto)
+Update(CustomerDto)
+Get()
}

CustomerRepository --> ICustomerDataTableGateway
ICustomerDataTableGateway <|-- CustomerDataTableGateway
@enduml

**********************
Production Get
**********************

@startuml
Client -> CustomerRepository : Get(customerId)

CustomerRepository -> CustomerDataTableGateway : Get(customerId)

CustomerDataTableGateway -> Database : SQL Query
Database -> CustomerDataTableGateway : Customer Record

CustomerDataTableGateway -> CustomerRepository : CustomerDto

CustomerRepository -> Client : Customer
@enduml

**********************
Test Get with Dummy
**********************

@startuml
UnitTest -> CustomerRepository : Get(customerId)

CustomerRepository -> CustomerDataTableGatewayDummy : Get(customerId)

CustomerDataTableGatewayDummy -> CustomerRepository : null

CustomerRepository -> UnitTest : null
@enduml

**********************
Production Save with Update
**********************

@startuml
Client -> CustomerRepository : Save(Customer)

CustomerRepository -> CustomerDataTableGateway : Update(CustomerDto)

CustomerDataTableGateway -> Database : SQL Update Query
Database -> CustomerDataTableGateway : CustomerId

CustomerDataTableGateway -> CustomerRepository : CustomerId

CustomerRepository -> Client : Customer
@enduml