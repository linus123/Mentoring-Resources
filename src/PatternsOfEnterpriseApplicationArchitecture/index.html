<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Mentoring: Patterns of Enterprise Application Architecture</title>

		<link rel="stylesheet" href="../../lib/reveal.js-3.4.1/css/reveal.css">
		<link rel="stylesheet" href="../../lib/reveal.js-3.4.1/css/theme/black.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="../../lib/reveal.js-3.4.1/lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? '../../lib/reveal.js-3.4.1/css/print/pdf.css' : '../../lib/reveal.js-3.4.1/css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<style>
			.reveal p.SmallTopTitle {
				margin: 0;
				line-height: 1;
			}
		</style>
	</head>

	<!--

	So the first time I gave this presentation was strange.
	People got lost on WHAT we were talking about.  ESPECIALLY when we were talking about transaction script.
	Looking at the code examples first were better then the text.

	Need to mention Domain Driven Design in the domain model.

	I think the examples would be more effective if we used the same concept but changed the implementation.

	-->

	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<h3>Patterns of Enterprise Application Architecture</h3>
				</section>

				<section>
					<img src="../Shared/PatternsOfenterpriseAppArch.jpg" />
				</section>

				<section>
					<h2><a href="https://martinfowler.com/eaaCatalog/" target="_blank">Web Catalog</a></h2>
				</section>

				<section>
					<section>
						<h2>Domain Logic Patterns</h2>
					</section>

					<section>
						<h4>How do we organize business rules?</h4>
					</section>

					<section>
						<h3>The Patterns</h3>
						<ul>
							<li>Transaction Script</li>
							<li>Table Module</li>
							<li>Domain Model</li>
							<li>Service Layer *</li>
						</ul>
					</section>

					<section>
						<img src="images/OrderObjectDiagram.png" />
						<p><small>Code Samples</small></p>
					</section>
				</section>


				<section>
					<p class="SmallTopTitle"><small>Domain Logic Pattern</small></p>
					<h4>Transaction Script</h4>

					<section>
						<p>Organizes business logic by procedures where each procedure handles a single request from the presentation.</p>
					</section>

					<section>
						<h3>Works well when</h3>
						<ul>
							<li>business rules are simple</li>
							<li>business rules rarely change</li>
						</ul>
					</section>

					<section>
						<h3>Pros</h3>
						<ul>
							<li>Simple / Intuitive</li>
							<li>Supported in All Languages</li>
						</ul>
					</section>

					<section>
						<h3>Cons</h3>
						<ul>
							<li>Difficult Removing Duplication</li>
							<li>Couples Code to Implementation Details</li>
						</ul>
					</section>

					<section>
						<h3><a href="CodeSamples.html#TransactionScriptCSharp" target="_blank">C# Example</a></h3>
					</section>

					<section>
						<h3><a href="CodeSamples.html#TransactionScriptSql" target="_blank">SQL Example</a></h3>
					</section>

					<section>
						<img src="images/SSIS.jpg" />
					</section>

				</section>


				<section>
					<p class="SmallTopTitle"><small>Domain Logic Pattern</small></p>
					<h4>Table Module</h4>

					<section>
						<p>A single instance that handles the business logic for all rows in a database table or view.</p>
					</section>

					<section>
						<h3>Works well when</h3>
						<ul>
							<li>problem is aligned to the data source</li>
						</ul>
					</section>

					<section>
						<h3>Pros</h3>
						<ul>
							<li>Medium Complexity</li>
							<li>Ships with Most ORMs</li>
						</ul>
					</section>

					<section>
						<h3>Cons</h3>
						<ul>
							<li>Only Works for Databases</li>
							<li>Couples Code to Database</li>
						</ul>
					</section>

					<section>
						<h3><a href="CodeSamples.html#TableModuleExample" target="_blank">Example</a></h3>
					</section>

				</section>

				<section>
					<p class="SmallTopTitle"><small>Domain Logic Pattern</small></p>
					<h4>Domain Model</h4>

					<section>
						<p>An object model of the domain that incorporates both behavior and data.</p>
					</section>

					<section>
						<h3>Works well when</h3>
						<ul>
							<li>business rules are complicated</li>
							<li>business rules are ever changing</li>
						</ul>
					</section>

					<section>
						<h3>Pros</h3>
						<ul>
							<li>Can Apply Advanced OOP Patterns</li>
							<li>Highly Maintainable</li>
						</ul>
					</section>

					<section>
						<h3>Cons</h3>
						<ul>
							<li>Takes Practice to do Well</li>
							<li>Vast Subject</li>
							<li>Requires OOP</li>
						</ul>
					</section>

					<section>
						<h3><a href="CodeSamples.html#DomainModelExample" target="_blank">Example</a></h3>
					</section>

				</section>

				<section>
					<section>
						<h2>Choosing a Domain Logic Pattern</h2>
					</section>

					<section>
						<img src="images/WhereToUse.png" />
					</section>

					<section>
						<h3>Transaction Script when possible</h3>
						<p>But be honest with yourself.</p>
					</section>

					<section>
						<img src="images/ChoosingDomainLogicPattern.png" />
					</section>

				</section>

				<section>
					<p class="SmallTopTitle"><small>Domain Logic Pattern</small></p>
					<h4>Service Layer</h4>

					<section>
						<p>Defines an application's boundary with a layer of services that establishes a set of available operations and coordinates the application's response in each operation.</p>
					</section>

					<section>
						<img src="images/ServiceLayerOriginal.png" />
					</section>

					<section>
						<img src="images/ServiceLayerMine.png" />
					</section>

				</section>
			</div>
		</div>

		<script src="../../lib/reveal.js-3.4.1/lib/js/head.min.js"></script>
		<script src="../../lib/reveal.js-3.4.1/js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: '../../lib/reveal.js-3.4.1/plugin/markdown/marked.js' },
					{ src: '../../lib/reveal.js-3.4.1/plugin/markdown/markdown.js' },
					{ src: '../../lib/reveal.js-3.4.1/plugin/notes/notes.js', async: true },
					{ src: '../../lib/reveal.js-3.4.1/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
